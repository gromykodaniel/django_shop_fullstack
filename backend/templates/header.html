{% load extra_settings %}

<!-- Header --> 
<header id="header" class="navbar navbar-expand-xl sticky-top">    
    <div class="container-fluid">

        <!-- Left header block - Logo -->
        <a href="/" class="navbar-brand logo ms-3">{% get_setting 'SITE_NAME' default='Настройте параметр SITE_NAME...' %}</a>

        <!-- Navbar toggler -->
        <button type="button" class="navbar-toggler text-black" data-bs-toggle="collapse"
        data-bs-target="#navbar-menu" aria-controls="navbar-menu" 
        aria-expanded="false" aria-label="Переключатель навигации">
            <span class="ti-menu"></span>
        </button>

        <!-- Navigation menu -->
        <nav id="navbar-menu" class="navbar-collapse collapse">

            <hr class="d-xl-none border-top-colored"> 

            <ul class="navbar-nav top-nav-menu me-auto d-inline-flex">
                <li class="nav-item px-4">
                    <a class="nav-link text-reset uk-button-text" aria-current="page" href="/">Домой</a>
                </li>

                <li class="nav-item px-4">
                    <a class="nav-link text-reset uk-button-text " href="{% url 'contacts' %}">Контакты</a>
                </li>

                <li class="nav-item px-4">
                    <a class="nav-link text-reset uk-button-text " href="{% url 'delivery' %}">Доставка</a>
                </li>

                <li class="nav-item px-4">
                    <a class="nav-link text-reset uk-button-text " href="{% url 'about' %}">О нас</a>
                </li>
        
            </ul>

            <hr class="d-xl-none border-top-colored"> 

            <!-- Right header block --> 
            <div class="d-inline-flex">
                <div class="header-element me-5 ms-3 a-important"><span class="ti-search"></span></div>

                    <!-- Search form --> 
                    <div class="uk-navbar-dropdown" uk-drop="mode: click; cls-drop: uk-navbar-dropdown; boundary: !nav">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-expand">
                                <form class="uk-search uk-search-navbar uk-width-1-1" method="get" action="{% url 'products' %}">
                                    <input class="uk-search-input" name="search_query" id="search_query" type="search" placeholder="Поиск..."  autocomplete="off" autofocus>
                                </form>
                            </div>
                            <div class="uk-width-auto">
                                <div class="uk-navbar-dropdown-close a-important" uk-close></div>
                            </div>
                        </div>

                    </div>

                <a class="header-element me-5" href="{% url 'dashboard' %}">
                    <span class="ti-user"></span>
                </a>

                <div id="shopping-cart-offcanvas-open-button" class="header-element me-5 a-important" href="#shopping-cart-offcanvas" data-bs-toggle="offcanvas" aria-controls="shopping-cart-offcanvas">
                    <span class="ti-shopping-cart"></span>
                </div>

            </div>

        </nav>
    </div>
</header>

<!-- Offcanvas -->
<aside id="shopping-cart-offcanvas" class="offcanvas offcanvas-end" tabindex="-1" aria-labelledby="shopping-cart-offcanvas-label">
    
    <!-- Offcanvas header-->
    <div class="offcanvas-header my-1">
        <p class="offcanvas-title h4 header-element badge uk-button-text" id="shopping-cart-offcanvas-label">Корзина  <span class="ti-shopping-cart"></span></p>
        <button type="button" class="btn-close btn-lg border-colored" data-bs-dismiss="offcanvas" aria-label="Закрыть"></button>
    </div>

    <!-- Decoration -->
    <hr class="border-top-colored">

    <!-- Offcanvas body-->
    <div id="cart-offcanvas-body" class="offcanvas-body">
        {% include "cart_offcanvas_body.html" %}
    </div>

    <!-- Decoration -->
    <hr class="border-top-colored">
</aside>